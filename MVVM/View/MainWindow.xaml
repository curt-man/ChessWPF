<Window x:Class="ChessWPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ChessWPF"
        xmlns:viewmodel="clr-namespace:ChessWPF.MVVM.ViewModel"
        mc:Ignorable="d"
        Title="MainWindow" 
        Height="800" 
        Width="1200"
        Background="#393939"
        WindowStyle="None"
        AllowsTransparency="True"
        FontFamily="Montserrat"
        FontSize="12"
        ResizeMode="CanResizeWithGrip"
        Foreground="#FFFFFF">


    <Window.DataContext>
        <viewmodel:MainViewModel/>
    </Window.DataContext>
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="30"/>
            <RowDefinition Height="9*"/>
            <RowDefinition Height="60*"/>
            <RowDefinition Height="8*"/>
        </Grid.RowDefinitions>
        
        <Border x:Name="HeaderPanel"
                Grid.ColumnSpan="2"
                Grid.Row="0"
                Background="#292929"
                MouseDown="HeaderPanel_MouseDown">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <StackPanel x:Name="LogoName"
                            Grid.Column="0"
                            Orientation="Horizontal">
                    <Button x:Name="Logo"
                            Content="&#xf43c;"
                            FontFamily="Font Awesome 6 Free Solid"
                            Foreground="#FFFFFF"
                            Padding="0"
                            Height="30"
                            Width="30"
                            BorderBrush="Transparent"
                            Background="Transparent"
                            FontSize="20"/>
                    <Label Foreground="#FFFFFF"
                           Padding="0 3"
                           FontWeight="DemiBold"
                           Height="20"
                           BorderBrush="Transparent"
                           Background="Transparent"
                           Content="ChessWPF"/>
                </StackPanel>
                <StackPanel x:Name="HeaderButtons"
                            HorizontalAlignment="Right"
                            Orientation="Horizontal"
                            Grid.Column="2">
                    <Button x:Name="MinimizeWindowButton"
                            Width="30"
                            Height="30"
                            BorderThickness="0"
                            Padding="0"
                            FontFamily="Font Awesome 6 Free Solid"
                            Foreground="#FFFFFF"
                            Background="Transparent"
                            FontSize="20"
                            Content="&#xf2d1;"
                            Click="MinimizeWindowButton_Click"
                            BorderBrush="#393939"/>
                    <Button x:Name="MaximizeWindowButton"
                            Width="30"
                            Height="30"
                            BorderThickness="0"
                            Padding="0"
                            FontFamily="Font Awesome 6 Free Solid"
                            Foreground="#FFFFFF"
                            Background="Transparent"
                            FontSize="20"
                            Content="&#xf2d0;"
                            Click="MaximizeWindowButton_Click"
                            BorderBrush="#393939"/>
                    <Button x:Name="CloseWindowButton"
                            Width="30"
                            Height="30"
                            BorderThickness="0"
                            Padding="0"
                            FontFamily="Font Awesome 6 Free Solid"
                            Foreground="#FFFFFF"
                            Background="Transparent"
                            FontSize="20"
                            Content="&#xf410;"
                            Click="CloseWindowButton_Click"
                            BorderBrush="#393939"/>
                </StackPanel>
            </Grid>
        </Border>
        <StackPanel Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Grid.Column="0"
                    Grid.Row="1">
            
            <Label x:Name="FirstBoardTimer"
                   Content="4:21"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"
                   FontWeight="Bold"
                   Foreground="#FFFFFF"
                   FontSize="32"/>

            <Grid Margin="10 0 10 0"
                  Height="50"
                  >
                
                <Path x:Name="TimerIcon"
                      Height="50"
                      Fill="White"
                      Stretch="Uniform"
                      Data="M430.572 51.97H349.446V37.998C349.472 36.0783 349.971 34.1945 350.899 32.5139C351.827 30.8334 353.156 29.4079 354.767 28.364C356.888 26.9437 358.624 25.0209 359.822 22.7668C361.019 20.5127 361.64 17.9974 361.63 15.445C361.6 6.83499 354.307 0 345.696 0H327.607C318.996 0 311.707 6.83499 311.674 15.445C311.663 17.9973 312.285 20.5126 313.482 22.7667C314.679 25.0208 316.415 26.9437 318.536 28.364C320.147 29.4078 321.476 30.8333 322.405 32.5139C323.333 34.1944 323.832 36.0782 323.858 37.998V51.97H132.9V37.998C132.925 36.0781 133.425 34.1943 134.353 32.5137C135.281 30.833 136.61 29.4076 138.222 28.364C140.343 26.9437 142.079 25.0208 143.276 22.7667C144.474 20.5126 145.095 17.9973 145.084 15.445C145.054 6.83499 137.761 0 129.151 0H111.062C102.451 0 95.162 6.83499 95.128 15.445C95.1177 17.9973 95.7389 20.5124 96.9361 22.7665C98.1334 25.0205 99.8696 26.9435 101.99 28.364C103.602 29.4076 104.931 30.833 105.859 32.5137C106.787 34.1943 107.287 36.0781 107.312 37.998V51.97H25.906C19.0353 51.97 12.446 54.6994 7.58769 59.5577C2.72937 64.416 0 71.0053 0 77.876V292.731C0 299.602 2.72937 306.191 7.58769 311.049C12.446 315.908 19.0353 318.637 25.906 318.637H430.572C437.443 318.637 444.032 315.908 448.89 311.049C453.749 306.191 456.478 299.602 456.478 292.731V77.876C456.478 71.0053 453.749 64.416 448.89 59.5577C444.032 54.6994 437.443 51.97 430.572 51.97ZM119.826 268.137C103.41 268.137 87.3629 263.269 73.7137 254.149C60.0644 245.029 49.4261 232.066 43.144 216.9C36.8619 201.733 35.2182 185.045 38.4208 168.944C41.6234 152.844 49.5284 138.055 61.1361 126.447C72.7439 114.839 87.5331 106.934 103.633 103.732C119.734 100.529 136.422 102.173 151.589 108.455C166.755 114.737 179.718 125.375 188.838 139.025C197.958 152.674 202.826 168.721 202.826 185.137C202.826 196.037 200.679 206.83 196.508 216.9C192.337 226.97 186.223 236.12 178.516 243.827C170.809 251.534 161.659 257.648 151.589 261.819C141.519 265.99 130.726 268.137 119.826 268.137ZM336.652 268.137C320.236 268.137 304.189 263.269 290.54 254.149C276.89 245.029 266.252 232.066 259.97 216.9C253.688 201.733 252.044 185.045 255.247 168.944C258.449 152.844 266.354 138.055 277.962 126.447C289.57 114.839 304.359 106.934 320.46 103.732C336.56 100.529 353.248 102.173 368.415 108.455C383.581 114.737 396.544 125.375 405.664 139.025C414.784 152.674 419.652 168.721 419.652 185.137C419.652 207.15 410.907 228.261 395.342 243.827C379.776 259.392 358.665 268.137 336.652 268.137Z"/>
                
            </Grid>

            <Label x:Name="SecondBoardTimer"
                   Content="{Binding PlayerTurn, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                   HorizontalAlignment="Center"
                   SizeChanged="SecondBoardTimer_SizeChanged"
                   VerticalAlignment="Center"
                   FontWeight="Bold"
                   Foreground="#FFFFFF"
                   FontSize="32"
                    />
        </StackPanel>
        
        <Border x:Name="FirstBoard"
                Grid.Column="0"
                Grid.Row="2"
                Background="#292929"
                CornerRadius="30"
                Margin="24">
            <ListBox x:Name="FirstBoardTiles"
                     Background="Transparent"
                     BorderThickness="0"
                     Padding="35"
                     ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                     ScrollViewer.VerticalScrollBarVisibility="Disabled"
                     ItemsSource="{Binding Board, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                     SelectedIndex="{Binding SelectedTile, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                     ItemContainerStyle="{StaticResource TileCanvas}"
                     SelectionChanged="FirstBoardTiles_SelectionChanged">
                <ListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel Orientation="Horizontal"/>
                    </ItemsPanelTemplate>
                </ListBox.ItemsPanel>
            </ListBox>
        </Border>

        <Border x:Name="SecondBoard"
                Grid.Column="0"
                Grid.Row="2"
                Background="#292929"
                CornerRadius="30"
                Margin="24"
                Visibility="Hidden">
            <ListBox x:Name="SecondBoardTiles"
                     Background="Transparent"
                     BorderThickness="0"
                     Padding="35"
                     RenderTransformOrigin="0.5,0.5"
                     ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                     ScrollViewer.VerticalScrollBarVisibility="Disabled"
                     ItemsSource="{Binding Board, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                     SelectedIndex="{Binding SelectedTile, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                     ItemContainerStyle="{StaticResource TileCanvasRotated}"
                     SelectionChanged="FirstBoardTiles_SelectionChanged"
                     >
                <ListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel Orientation="Horizontal"/>
                    </ItemsPanelTemplate>
                </ListBox.ItemsPanel>
                <ListBox.RenderTransform>
                    <RotateTransform Angle="180"/>
                </ListBox.RenderTransform>
            </ListBox>
        </Border>



    </Grid>
</Window>